!function(e){var n=function(e,n){var o=encodeURIComponent(e),r=encodeURIComponent(location.origin),i=window.open("https://rosefire.csse.rose-hulman.edu/webview/login?platform=web&registryToken="+o+"&referrer="+r,"_blank"),s=setInterval(function(){i.closed&&(clearInterval(s),n&&(n(new Error("Login cancelled")),n=null))},500);window.addEventListener("message",function(e){var o=e.origin||e.originalEvent.origin;if("https://rosefire.csse.rose-hulman.edu"!==o)return void console.error("Invalid origin:"+o);var r=n;n=null,e.source.close(),r&&r(null,e.data)})};e.Rosefire={},e.Rosefire.signIn=n}(this);
angular.module("rosefire",[]).service("Rosefire",["$window","$q",function(e,n){this.signIn=function(r){var i=n.defer();return e.Rosefire.signIn(r,function(e,n){e?i.reject(e):i.resolve(n)}),i.promise}}]);